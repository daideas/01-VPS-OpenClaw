services:
  openclaw-gateway:
    build: .
    container_name: openclaw-gateway
    user: "root"
    restart: unless-stopped
    environment:
      - HOME=/home/node
      - OPENCLAW_CONFIG=${OPENCLAW_CONFIG}
      - OPENCLAW_COMMAND=${OPENCLAW_COMMAND}
      - OPENCLAW_BIND=${OPENCLAW_BIND}
      - OPENCLAW_PORT=${OPENCLAW_PORT}
      - OPENCLAW_ALLOW_UNCONFIGURED=${OPENCLAW_ALLOW_UNCONFIGURED}
      - OPENCLAW_DANGEROUSLY_ALLOW_HOST_HEADER_ORIGIN_FALLBACK=${OPENCLAW_DANGEROUSLY_ALLOW_HOST_HEADER_ORIGIN_FALLBACK}
      - OPENCLAW_CONTROL_UI_ALLOWED_ORIGINS=${OPENCLAW_CONTROL_UI_ALLOWED_ORIGINS}
    volumes:
      - ./workspace:/home/node/.openclaw/workspace
    ports:
      - "18789:18789"
    init: true
